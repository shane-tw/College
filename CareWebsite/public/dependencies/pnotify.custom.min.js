/*
PNotify 3.2.0 sciactive.com/pnotify/
(C) 2015 Hunter Perrin; Google, Inc.
license Apache-2.0
*/
/*
 * ====== PNotify ======
 *
 * http://sciactive.com/pnotify/
 *
 * Copyright 2009-2015 Hunter Perrin (Modified by Shane)
 * Copyright 2015 Google, Inc.
 *
 * Licensed under Apache License, Version 2.0.
 * 	http://www.apache.org/licenses/LICENSE-2.0
 */

(function(root,factory){if(typeof define==='function'&&define.amd){define('pnotify',['jquery'],function($){return factory($,root)})}else if(typeof exports==='object'&&typeof module!=='undefined'){module.exports=factory(require('jquery'),global||root)}else{root.PNotify=factory(root.jQuery,root)}}(typeof window!=="undefined"?window:this,function($,root){var init=function(root){var default_stack={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:$("body"),modal:!1};var posTimer,body,jwindow=$(root);var do_when_ready=function(){body=$("body");PNotify.prototype.options.stack.context=body;jwindow=$(root);jwindow.bind('resize',function(){if(posTimer){clearTimeout(posTimer)}
posTimer=setTimeout(function(){PNotify.positionAll(!0)},10)})};var createStackOverlay=function(stack){var overlay=$("<div />",{"class":"ui-pnotify-modal-overlay"});overlay.prependTo(stack.context);if(stack.overlay_close){overlay.click(function(){PNotify.removeStack(stack)})}
return overlay};var PNotify=function(options){this.state="initializing";this.timer=null;this.animTimer=null;this.styles=null;this.elem=null;this.container=null;this.title_container=null;this.text_container=null;this.animating=!1;this.timerHide=!1;this.parseOptions(options);this.init()};$.extend(PNotify.prototype,{version:"3.2.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8000,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:default_stack},modules:{},runModules:function(event,arg){var curArg;for(var module in this.modules){curArg=((typeof arg==="object"&&module in arg)?arg[module]:arg);if(typeof this.modules[module][event]==='function'){this.modules[module].notice=this;this.modules[module].options=typeof this.options[module]==='object'?this.options[module]:{};this.modules[module][event](this,typeof this.options[module]==='object'?this.options[module]:{},curArg)}}},init:function(){var that=this;this.modules={};$.extend(!0,this.modules,PNotify.prototype.modules);if(typeof this.options.styling==="object"){this.styles=this.options.styling}else{this.styles=PNotify.styling[this.options.styling]}
this.elem=$("<div />",{"class":"ui-pnotify "+this.options.addclass,"css":{"display":"none"},"aria-live":"assertive","aria-role":"alertdialog","mouseenter":function(e){if(that.options.mouse_reset&&that.animating==="out"){if(!that.timerHide){return}
that.cancelRemove()}
if(that.options.hide&&that.options.mouse_reset){that.cancelRemove()}},"mouseleave":function(e){if(that.options.hide&&that.options.mouse_reset&&that.animating!=="out"){that.queueRemove()}
PNotify.positionAll()}});if(this.options.animation==="fade"){this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed)}
this.container=$("<div />",{"class":this.styles.container+" ui-pnotify-container "+(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice))),"role":"alert"}).appendTo(this.elem);this.heading_container=$("<div />",{"class":"hello-world"}).appendTo(this.container);if(this.options.cornerclass!==""){this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass)}
if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}
if(this.options.icon!==!1){$("<div />",{"class":"ui-pnotify-icon"}).append($("<span />",{"class":this.options.icon===!0?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.heading_container)}
this.title_container=$("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.heading_container);if(this.options.title===!1){this.title_container.hide()}else if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}
this.text_container=$("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container);if(this.options.text===!1){this.text_container.hide()}else if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}
if(typeof this.options.width==="string"){this.elem.css("width",this.options.width)}
if(typeof this.options.min_height==="string"){this.container.css("min-height",this.options.min_height)}
if(this.options.stack.push==="top"){PNotify.notices=$.merge([this],PNotify.notices)}else{PNotify.notices=$.merge(PNotify.notices,[this])}
if(this.options.stack.push==="top"){this.queuePosition(!1,1)}
this.options.stack.animation=!1;this.runModules('init');this.state="closed";if(this.options.auto_display){this.open()}
return this},update:function(options){var oldOpts=this.options;this.parseOptions(oldOpts,options);this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast");if(this.options.animation==="fade"){this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed)}
if(this.options.cornerclass!==oldOpts.cornerclass){this.container.removeClass("ui-corner-all "+oldOpts.cornerclass).addClass(this.options.cornerclass)}
if(this.options.shadow!==oldOpts.shadow){if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}else{this.container.removeClass("ui-pnotify-shadow")}}
if(this.options.addclass===!1){this.elem.removeClass(oldOpts.addclass)}else if(this.options.addclass!==oldOpts.addclass){this.elem.removeClass(oldOpts.addclass).addClass(this.options.addclass)}
if(this.options.title===!1){this.title_container.slideUp("fast")}else if(this.options.title!==oldOpts.title){if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}
if(oldOpts.title===!1){this.title_container.slideDown(200)}}
if(this.options.text===!1){this.text_container.slideUp("fast")}else if(this.options.text!==oldOpts.text){if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}
if(oldOpts.text===!1){this.text_container.slideDown(200)}}
if(this.options.type!==oldOpts.type){this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}
if(this.options.icon!==oldOpts.icon||(this.options.icon===!0&&this.options.type!==oldOpts.type)){this.container.find("div.ui-pnotify-icon").remove();if(this.options.icon!==!1){$("<div />",{"class":"ui-pnotify-icon"}).append($("<span />",{"class":this.options.icon===!0?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}}
if(this.options.width!==oldOpts.width){this.elem.animate({width:this.options.width})}
if(this.options.min_height!==oldOpts.min_height){this.container.animate({minHeight:this.options.min_height})}
if(!this.options.hide){this.cancelRemove()}else if(!oldOpts.hide){this.queueRemove()}
this.queuePosition(!0);this.runModules('update',oldOpts);return this},open:function(){this.state="opening";this.runModules('beforeOpen');var that=this;if(!this.elem.parent().length){this.elem.appendTo(this.options.stack.context?this.options.stack.context:body)}
if(this.options.stack.push!=="top"){this.position(!0)}
this.animateIn(function(){that.queuePosition(!0);if(that.options.hide){that.queueRemove()}
that.state="open";that.runModules('afterOpen')});return this},remove:function(timer_hide){this.state="closing";this.timerHide=!!timer_hide;this.runModules('beforeClose');var that=this;if(this.timer){root.clearTimeout(this.timer);this.timer=null}
this.animateOut(function(){that.state="closed";that.runModules('afterClose');that.queuePosition(!0);if(that.options.remove){that.elem.detach()}
that.runModules('beforeDestroy');if(that.options.destroy){if(PNotify.notices!==null){var idx=$.inArray(that,PNotify.notices);if(idx!==-1){PNotify.notices.splice(idx,1)}}}
that.runModules('afterDestroy')});return this},get:function(){return this.elem},parseOptions:function(options,moreOptions){this.options=$.extend(!0,{},PNotify.prototype.options);this.options.stack=PNotify.prototype.options.stack;var optArray=[options,moreOptions],curOpts;for(var curIndex=0;curIndex<optArray.length;curIndex++){curOpts=optArray[curIndex];if(typeof curOpts==="undefined"){break}
if(typeof curOpts!=='object'){this.options.text=curOpts}else{for(var option in curOpts){if(this.modules[option]){$.extend(!0,this.options[option],curOpts[option])}else{this.options[option]=curOpts[option]}}}}},animateIn:function(callback){this.animating="in";var that=this;var finished=function(){if(that.animTimer){clearTimeout(that.animTimer)}
if(that.animating!=="in"){return}
if(that.elem.is(":visible")){if(callback){callback.call()}
that.animating=!1}else{that.animTimer=setTimeout(finished,40)}};if(this.options.animation==="fade"){this.elem.one('webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend',finished).addClass("ui-pnotify-in");this.elem.css("opacity");this.elem.addClass("ui-pnotify-fade-in");this.animTimer=setTimeout(finished,650)}else{this.elem.addClass("ui-pnotify-in");finished()}},animateOut:function(callback){this.animating="out";var that=this;var finished=function(){if(that.animTimer){clearTimeout(that.animTimer)}
if(that.animating!=="out"){return}
if(that.elem.css("opacity")=="0"||!that.elem.is(":visible")){that.elem.removeClass("ui-pnotify-in");if(that.options.stack.overlay){var stillOpen=!1;$.each(PNotify.notices,function(i,notice){if(notice!=that&&notice.options.stack===that.options.stack&&notice.state!="closed"){stillOpen=!0}});if(!stillOpen){that.options.stack.overlay.hide()}}
if(callback){callback.call()}
that.animating=!1}else{that.animTimer=setTimeout(finished,40)}};if(this.options.animation==="fade"){this.elem.one('webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend',finished).removeClass("ui-pnotify-fade-in");this.animTimer=setTimeout(finished,650)}else{this.elem.removeClass("ui-pnotify-in");finished()}},position:function(dontSkipHidden){var stack=this.options.stack,elem=this.elem;if(typeof stack.context==="undefined"){stack.context=body}
if(!stack){return}
if(typeof stack.nextpos1!=="number"){stack.nextpos1=stack.firstpos1}
if(typeof stack.nextpos2!=="number"){stack.nextpos2=stack.firstpos2}
if(typeof stack.addpos2!=="number"){stack.addpos2=0}
var hidden=!elem.hasClass("ui-pnotify-in");if(!hidden||dontSkipHidden){if(stack.modal){if(stack.overlay){stack.overlay.show()}else{stack.overlay=createStackOverlay(stack)}}
elem.addClass("ui-pnotify-move");var curpos1,curpos2;var csspos1;switch(stack.dir1){case "down":csspos1="top";break;case "up":csspos1="bottom";break;case "left":csspos1="right";break;case "right":csspos1="left";break}
curpos1=parseInt(elem.css(csspos1).replace(/(?:\..*|[^0-9.])/g,''));if(isNaN(curpos1)){curpos1=0}
if(typeof stack.firstpos1==="undefined"&&!hidden){stack.firstpos1=curpos1;stack.nextpos1=stack.firstpos1}
var csspos2;switch(stack.dir2){case "down":csspos2="top";break;case "up":csspos2="bottom";break;case "left":csspos2="right";break;case "right":csspos2="left";break}
curpos2=parseInt(elem.css(csspos2).replace(/(?:\..*|[^0-9.])/g,''));if(isNaN(curpos2)){curpos2=0}
if(typeof stack.firstpos2==="undefined"&&!hidden){stack.firstpos2=curpos2;stack.nextpos2=stack.firstpos2}
if((stack.dir1==="down"&&stack.nextpos1+elem.height()>(stack.context.is(body)?jwindow.height():stack.context.prop('scrollHeight')))||(stack.dir1==="up"&&stack.nextpos1+elem.height()>(stack.context.is(body)?jwindow.height():stack.context.prop('scrollHeight')))||(stack.dir1==="left"&&stack.nextpos1+elem.width()>(stack.context.is(body)?jwindow.width():stack.context.prop('scrollWidth')))||(stack.dir1==="right"&&stack.nextpos1+elem.width()>(stack.context.is(body)?jwindow.width():stack.context.prop('scrollWidth')))){stack.nextpos1=stack.firstpos1;stack.nextpos2+=stack.addpos2+(typeof stack.spacing2==="undefined"?25:stack.spacing2);stack.addpos2=0}
if(typeof stack.nextpos2==="number"){if(!stack.animation){elem.removeClass("ui-pnotify-move");elem.css(csspos2,stack.nextpos2+"px");elem.css(csspos2);elem.addClass("ui-pnotify-move")}else{elem.css(csspos2,stack.nextpos2+"px")}}
switch(stack.dir2){case "down":case "up":if(elem.outerHeight(!0)>stack.addpos2){stack.addpos2=elem.height()}
break;case "left":case "right":if(elem.outerWidth(!0)>stack.addpos2){stack.addpos2=elem.width()}
break}
if(typeof stack.nextpos1==="number"){if(!stack.animation){elem.removeClass("ui-pnotify-move");elem.css(csspos1,stack.nextpos1+"px");elem.css(csspos1);elem.addClass("ui-pnotify-move")}else{elem.css(csspos1,stack.nextpos1+"px")}}
switch(stack.dir1){case "down":case "up":stack.nextpos1+=elem.height()+(typeof stack.spacing1==="undefined"?25:stack.spacing1);break;case "left":case "right":stack.nextpos1+=elem.width()+(typeof stack.spacing1==="undefined"?25:stack.spacing1);break}}
return this},queuePosition:function(animate,milliseconds){if(posTimer){clearTimeout(posTimer)}
if(!milliseconds){milliseconds=10}
posTimer=setTimeout(function(){PNotify.positionAll(animate)},milliseconds);return this},cancelRemove:function(){if(this.timer){root.clearTimeout(this.timer)}
if(this.animTimer){root.clearTimeout(this.animTimer)}
if(this.state==="closing"){this.state="open";this.animating=!1;this.elem.addClass("ui-pnotify-in");if(this.options.animation==="fade"){this.elem.addClass("ui-pnotify-fade-in")}}
return this},queueRemove:function(){var that=this;this.cancelRemove();this.timer=root.setTimeout(function(){that.remove(!0)},(isNaN(this.options.delay)?0:this.options.delay));return this}});$.extend(PNotify,{notices:[],reload:init,removeAll:function(){$.each(PNotify.notices,function(i,notice){if(notice.remove){notice.remove(!1)}})},removeStack:function(stack){$.each(PNotify.notices,function(i,notice){if(notice.remove&&notice.options.stack===stack){notice.remove(!1)}})},positionAll:function(animate){if(posTimer){clearTimeout(posTimer)}
posTimer=null;if(PNotify.notices&&PNotify.notices.length){$.each(PNotify.notices,function(i,notice){var s=notice.options.stack;if(!s){return}
if(s.overlay){s.overlay.hide()}
s.nextpos1=s.firstpos1;s.nextpos2=s.firstpos2;s.addpos2=0;s.animation=animate});$.each(PNotify.notices,function(i,notice){notice.position()})}else{var s=PNotify.prototype.options.stack;if(s){delete s.nextpos1;delete s.nextpos2}}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});PNotify.styling.fontawesome=$.extend({},PNotify.styling.bootstrap3);$.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});if(root.document.body){do_when_ready()}else{$(do_when_ready)}
return PNotify};return init(root)}));(function(root,factory){if(typeof define==='function'&&define.amd){define('pnotify.buttons',['jquery','pnotify'],factory)}else if(typeof exports==='object'&&typeof module!=='undefined'){module.exports=factory(require('jquery'),require('./pnotify'))}else{factory(root.jQuery,root.PNotify)}}(typeof window!=="undefined"?window:this,function($,PNotify){PNotify.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}};PNotify.prototype.modules.buttons={init:function(notice,options){var that=this;notice.elem.on({"mouseenter":function(e){if(that.options.sticker&&(!(notice.options.nonblock&&notice.options.nonblock.nonblock)||that.options.show_on_nonblock)){that.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible")}
if(that.options.closer&&(!(notice.options.nonblock&&notice.options.nonblock.nonblock)||that.options.show_on_nonblock)){that.closer.css("visibility","visible")}},"mouseleave":function(e){if(that.options.sticker_hover){that.sticker.css("visibility","hidden")}
if(that.options.closer_hover){that.closer.css("visibility","hidden")}}});this.sticker=$("<div />",{"class":"ui-pnotify-sticker","aria-role":"button","aria-pressed":notice.options.hide?"false":"true","tabindex":"0","title":notice.options.hide?options.labels.stick:options.labels.unstick,"css":{"cursor":"pointer","visibility":options.sticker_hover?"hidden":"visible"},"click":function(){notice.options.hide=!notice.options.hide;if(notice.options.hide){notice.queueRemove()}else{notice.cancelRemove()}
$(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var pin_up=that.options.classes.pin_up===null?notice.styles.pin_up:that.options.classes.pin_up;var pin_down=that.options.classes.pin_down===null?notice.styles.pin_down:that.options.classes.pin_down;$(this).attr("title",notice.options.hide?that.options.labels.stick:that.options.labels.unstick).children().attr("class","").addClass(notice.options.hide?pin_up:pin_down).attr("aria-pressed",notice.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").appendTo(notice.heading_container);if(!options.sticker||(notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)){this.sticker.css("display","none")}
this.closer=$("<div />",{"class":"ui-pnotify-closer","aria-role":"button","tabindex":"0","title":options.labels.close,"css":{"cursor":"pointer","visibility":options.closer_hover?"hidden":"visible"},"click":function(){notice.remove(!1);that.sticker.css("visibility","hidden");that.closer.css("visibility","hidden")}}).append($("<span />",{"class":options.classes.closer===null?notice.styles.closer:options.classes.closer})).appendTo(notice.heading_container);if(!options.closer||(notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)){this.closer.css("display","none")}},update:function(notice,options){if(!options.closer||(notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)){this.closer.css("display","none")}else if(options.closer){this.closer.css("display","block")}
if(!options.sticker||(notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)){this.sticker.css("display","none")}else if(options.sticker){this.sticker.css("display","block")}
this.sticker.trigger("pnotify:buttons:toggleStick");this.closer.find("span").attr("class","").addClass(options.classes.closer===null?notice.styles.closer:options.classes.closer);if(options.sticker_hover){this.sticker.css("visibility","hidden")}else if(!(notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)){this.sticker.css("visibility","visible")}
if(options.closer_hover){this.closer.css("visibility","hidden")}else if(!(notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)){this.closer.css("visibility","visible")}}};$.extend(PNotify.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"});$.extend(PNotify.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"});$.extend(PNotify.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"});return PNotify}));(function(root,factory){if(typeof define==='function'&&define.amd){define('pnotify.desktop',['jquery','pnotify'],factory)}else if(typeof exports==='object'&&typeof module!=='undefined'){module.exports=factory(require('jquery'),require('./pnotify'))}else{factory(root.jQuery,root.PNotify)}}(typeof window!=="undefined"?window:this,function($,PNotify){var permission;var notify=function(title,options){if("Notification" in window){notify=function(title,options){return new Notification(title,options)}}else if("mozNotification" in navigator){notify=function(title,options){return navigator.mozNotification.createNotification(title,options.body,options.icon).show()}}else if("webkitNotifications" in window){notify=function(title,options){return window.webkitNotifications.createNotification(options.icon,title,options.body)}}else{notify=function(title,options){return null}}
return notify(title,options)};PNotify.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null,title:null,text:null};PNotify.prototype.modules.desktop={genNotice:function(notice,options){if(options.icon===null){this.icon="http://sciactive.com/pnotify/includes/desktop/"+notice.options.type+".png"}else if(options.icon===!1){this.icon=null}else{this.icon=options.icon}
if(this.tag===null||options.tag!==null){this.tag=options.tag===null?"PNotify-"+Math.round(Math.random()*1000000):options.tag}
notice.desktop=notify(options.title||notice.options.title,{icon:this.icon,body:options.text||notice.options.text,tag:this.tag});if(!("close" in notice.desktop)&&("cancel" in notice.desktop)){notice.desktop.close=function(){notice.desktop.cancel()}}
notice.desktop.onclick=function(){notice.elem.trigger("click")};notice.desktop.onclose=function(){if(notice.state!=="closing"&&notice.state!=="closed"){notice.remove()}}},init:function(notice,options){if(!options.desktop)
return;permission=PNotify.desktop.checkPermission();if(permission!==0){if(!options.fallback){notice.options.auto_display=!1}
return}
this.genNotice(notice,options)},update:function(notice,options,oldOpts){if((permission!==0&&options.fallback)||!options.desktop)
return;this.genNotice(notice,options)},beforeOpen:function(notice,options){if((permission!==0&&options.fallback)||!options.desktop)
return;notice.elem.css({'left':'-10000px'}).removeClass('ui-pnotify-in')},afterOpen:function(notice,options){if((permission!==0&&options.fallback)||!options.desktop)
return;notice.elem.css({'left':'-10000px'}).removeClass('ui-pnotify-in');if("show" in notice.desktop){notice.desktop.show()}},beforeClose:function(notice,options){if((permission!==0&&options.fallback)||!options.desktop)
return;notice.elem.css({'left':'-10000px'}).removeClass('ui-pnotify-in')},afterClose:function(notice,options){if((permission!==0&&options.fallback)||!options.desktop)
return;notice.elem.css({'left':'-10000px'}).removeClass('ui-pnotify-in');if("close" in notice.desktop){notice.desktop.close()}}};PNotify.desktop={permission:function(){if(typeof Notification!=="undefined"&&"requestPermission" in Notification){Notification.requestPermission()}else if("webkitNotifications" in window){window.webkitNotifications.requestPermission()}},checkPermission:function(){if(typeof Notification!=="undefined"&&"permission" in Notification){return(Notification.permission==="granted"?0:1)}else if("webkitNotifications" in window){return window.webkitNotifications.checkPermission()==0?0:1}else{return 1}}};permission=PNotify.desktop.checkPermission();return PNotify}));(function(root,factory){if(typeof define==='function'&&define.amd){define('pnotify.mobile',['jquery','pnotify'],factory)}else if(typeof exports==='object'&&typeof module!=='undefined'){module.exports=factory(require('jquery'),require('./pnotify'))}else{factory(root.jQuery,root.PNotify)}}(typeof window!=="undefined"?window:this,function($,PNotify){PNotify.prototype.options.mobile={swipe_dismiss:!0,styling:!0};PNotify.prototype.modules.mobile={init:function(notice,options){var that=this,origX=null,diffX=null,noticeWidth=null;this.swipe_dismiss=options.swipe_dismiss;this.doMobileStyling(notice,options);notice.elem.on({"touchstart":function(e){if(!that.swipe_dismiss){return}
origX=e.originalEvent.touches[0].screenX;noticeWidth=notice.elem.width();notice.container.css("left","0")},"touchmove":function(e){if(!origX||!that.swipe_dismiss){return}
var curX=e.originalEvent.touches[0].screenX;diffX=curX-origX;var opacity=(1-(Math.abs(diffX)/noticeWidth))*notice.options.opacity;notice.elem.css("opacity",opacity);notice.container.css("left",diffX)},"touchend":function(){if(!origX||!that.swipe_dismiss){return}
if(Math.abs(diffX)>40){var goLeft=(diffX<0)?noticeWidth*-2:noticeWidth*2;notice.elem.animate({"opacity":0},100);notice.container.animate({"left":goLeft},100);notice.remove()}else{notice.elem.animate({"opacity":notice.options.opacity},100);notice.container.animate({"left":0},100)}
origX=null;diffX=null;noticeWidth=null},"touchcancel":function(){if(!origX||!that.swipe_dismiss){return}
notice.elem.animate({"opacity":notice.options.opacity},100);notice.container.animate({"left":0},100);origX=null;diffX=null;noticeWidth=null}})},update:function(notice,options){this.swipe_dismiss=options.swipe_dismiss;this.doMobileStyling(notice,options)},doMobileStyling:function(notice,options){if(options.styling){notice.elem.addClass("ui-pnotify-mobile-able");if($(window).width()<=480){if(!notice.options.stack.mobileOrigSpacing1){notice.options.stack.mobileOrigSpacing1=notice.options.stack.spacing1;notice.options.stack.mobileOrigSpacing2=notice.options.stack.spacing2}
notice.options.stack.spacing1=0;notice.options.stack.spacing2=0}else if(notice.options.stack.mobileOrigSpacing1||notice.options.stack.mobileOrigSpacing2){notice.options.stack.spacing1=notice.options.stack.mobileOrigSpacing1;delete notice.options.stack.mobileOrigSpacing1;notice.options.stack.spacing2=notice.options.stack.mobileOrigSpacing2;delete notice.options.stack.mobileOrigSpacing2}}else{notice.elem.removeClass("ui-pnotify-mobile-able");if(notice.options.stack.mobileOrigSpacing1){notice.options.stack.spacing1=notice.options.stack.mobileOrigSpacing1;delete notice.options.stack.mobileOrigSpacing1}
if(notice.options.stack.mobileOrigSpacing2){notice.options.stack.spacing2=notice.options.stack.mobileOrigSpacing2;delete notice.options.stack.mobileOrigSpacing2}}}};return PNotify}))